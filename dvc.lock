schema: '2.0'
stages:
  train_test_split:
    cmd: python scr/train_test_split.py --path=params.yaml
    deps:
    - path: data/raw/water_potability.csv
      md5: aafa784ad6c2cd060df038c343956a1d
      size: 525187
    - path: scr/train_test_split.py
      md5: e8e4a72cc9142c7005bcc622d24421fc
      size: 2891
    params:
      params.yaml:
        paths:
          raw_data: data/raw/water_potability.csv
          model: models/model.pk
          test_data: data/test/test_data.csv
          test_set: data/test/test-set
          train_set: data/train/train-set
          confusion_matrix: report/visual/confusion_matrix.jpg
          roc_curve: report/visual/rocauc_curve.jpg
          metrics: report/metrics/metrics.json
        train:
          seeds: 234
          test_size: 0.2
          imputer: median
          n_split: 10
    outs:
    - path: data/test/test_data.csv
      md5: 4755900cab83d299054ea04426863c82
      size: 103556
  training:
    cmd: python scr/training.py --path=params.yaml
    deps:
    - path: data/raw/water_potability.csv
      md5: aafa784ad6c2cd060df038c343956a1d
      size: 525187
    - path: scr/training.py
      md5: 503ae1140ffb4d404e3d4655e2fecd7b
      size: 1667
    params:
      params.yaml:
        paths:
          raw_data: data/raw/water_potability.csv
          model: models/model.pk
          test_data: data/test/test_data.csv
          test_set: data/test/test-set
          train_set: data/train/train-set
          confusion_matrix: report/visual/confusion_matrix.jpg
          roc_curve: report/visual/rocauc_curve.jpg
          metrics: report/metrics/metrics.json
        train:
          seeds: 234
          test_size: 0.2
          imputer: median
          n_split: 10
    outs:
    - path: models/model.pk
      md5: f5ac8b03ac6245957db4dd6eb949ca4e
      size: 7941686
  evaluation:
    cmd: python scr/evalution.py --path=params.yaml
    deps:
    - path: scr/evalution.py
      md5: 0aab1771f54ef53cd18dc048c59bc0f8
      size: 2472
    params:
      params.yaml:
        paths:
          raw_data: data/raw/water_potability.csv
          model: models/model.pk
          test_data: data/test/test_data.csv
          test_set: data/test/test-set
          train_set: data/train/train-set
          confusion_matrix: report/visual/confusion_matrix.jpg
          roc_curve: report/visual/rocauc_curve.jpg
          metrics: report/metrics/metrics.json
    outs:
    - path: report/metrics/metrics.json
      md5: 7f2efaaa22d406f2cbe67f043648d5bd
      size: 349
    - path: report/visual/confusion_matrix.jpg
      md5: bfb042c856d1997b3c7d5793db59af93
      size: 42521
    - path: report/visual/rocauc_curve.jpg
      md5: bcd54f7ae0c0f6bcca076e09dee08148
      size: 49392
